{"ast":null,"code":"var _jsxFileName = \"/Users/abusufian/Desktop/spring-rain-assignment/phonebook-webapp/frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport Properties from './components/properties';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      properties: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.reloadComponent = this.reloadComponent.bind(this);\n  }\n\n  componentDidMount() {\n    // before loading the application call property api\n    this.getData();\n  }\n\n  getData() {\n    fetch('http://localhost:4000/properties').then(res => res.json()).then(data => {\n      this.setState({\n        properties: data\n      });\n      this.input.value = null;\n    }).catch(console.log);\n  } // load the component\n\n\n  reloadComponent() {\n    window.location.reload();\n  } // api call for filter property by name, city, state\n\n\n  filterProperties(input) {\n    fetch(`http://localhost:4000/filterItem/?filterItem=${input}`).then(res => res.json()).then(data => {\n      this.setState({\n        properties: data\n      });\n    }).catch(console.log);\n  }\n\n  handleSubmit(e) {\n    this.filterProperties(this.input.value);\n    e.preventDefault();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Search Key:\", React.createElement(\"input\", {\n      type: \"text\",\n      ref: input => this.input = input,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.reloadComponent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \" \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Reload\"), \" \"))), React.createElement(\"div\", {\n      className: \"centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Properties, {\n      properties: this.state.properties,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/abusufian/Desktop/spring-rain-assignment/phonebook-webapp/frontend/src/App.js"],"names":["React","Component","Properties","App","constructor","props","state","properties","handleSubmit","bind","reloadComponent","componentDidMount","getData","fetch","then","res","json","data","setState","input","value","catch","console","log","window","location","reload","filterProperties","e","preventDefault","render"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAO,WAAP;;AAEA,MAAMC,GAAN,SAAkBF,SAAlB,CAA4B;AAC1BG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AADiB,SAKnBC,KALmB,GAKX;AACNC,MAAAA,UAAU,EAAE;AADN,KALW;AAEjB,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBD,IAArB,CAA0B,IAA1B,CAAvB;AACD;;AAKDE,EAAAA,iBAAiB,GAAG;AAClB;AACA,SAAKC,OAAL;AACD;;AAEDA,EAAAA,OAAO,GAAE;AACPC,IAAAA,KAAK,CAAC,kCAAD,CAAL,CACCC,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEOG,IAAD,IAAU;AACd,WAAKC,QAAL,CAAc;AAAEX,QAAAA,UAAU,EAAEU;AAAd,OAAd;AACA,WAAKE,KAAL,CAAWC,KAAX,GAAiB,IAAjB;AACD,KALD,EAMCC,KAND,CAMOC,OAAO,CAACC,GANf;AAOD,GAvByB,CAyB1B;;;AACAb,EAAAA,eAAe,GAAE;AACfc,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,GA5ByB,CA8B1B;;;AACAC,EAAAA,gBAAgB,CAACR,KAAD,EAAQ;AACtBN,IAAAA,KAAK,CAAE,gDAA+CM,KAAM,EAAvD,CAAL,CACCL,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEOG,IAAD,IAAU;AACd,WAAKC,QAAL,CAAc;AAAEX,QAAAA,UAAU,EAAEU;AAAd,OAAd;AACD,KAJD,EAKCI,KALD,CAKOC,OAAO,CAACC,GALf;AAMD;;AAEDf,EAAAA,YAAY,CAACoB,CAAD,EAAI;AACd,SAAKD,gBAAL,CAAsB,KAAKR,KAAL,CAAWC,KAAjC;AACAQ,IAAAA,CAAC,CAACC,cAAF;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACL,WACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,SAAS,EAAE,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AAAM,MAAA,QAAQ,EAAE,KAAKtB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,GAAG,EAAGW,KAAD,IAAW,KAAKA,KAAL,GAAaA,KAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,EAKE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAME;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAE,KAAKT,eAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAsD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAtD,MANF,CADH,CADF,EAWE;AAAM,MAAA,SAAS,EAAE,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,oBAAC,UAAD;AAAY,MAAA,UAAU,EAAE,KAAKJ,KAAL,CAAWC,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,CAXF,CADH;AAiBH;;AA/DyB;;AAkE5B,eAAeJ,GAAf","sourcesContent":["import React,{Component} from 'react';\nimport Properties from './components/properties';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.reloadComponent = this.reloadComponent.bind(this);\n  }\n  state = {\n    properties: []\n  }\n\n  componentDidMount() {\n    // before loading the application call property api\n    this.getData();\n  }\n\n  getData(){\n    fetch('http://localhost:4000/properties')\n    .then(res => res.json())\n    .then((data) => {\n      this.setState({ properties: data });\n      this.input.value=null;\n    })\n    .catch(console.log)\n  }\n\n  // load the component\n  reloadComponent(){\n    window.location.reload();\n  }\n\n  // api call for filter property by name, city, state\n  filterProperties(input) {\n    fetch(`http://localhost:4000/filterItem/?filterItem=${input}`)\n    .then(res => res.json())\n    .then((data) => {\n      this.setState({ properties: data });\n    })\n    .catch(console.log)\n  }\n\n  handleSubmit(e) {\n    this.filterProperties(this.input.value);\n    e.preventDefault();\n  }\n\n  render() {\n      return (\n         <div>\n           <div  className={\"centered\"}>\n              <form onSubmit={this.handleSubmit}>\n                <label>\n                  Search Key:\n                  <input type=\"text\" ref={(input) => this.input = input} />\n                </label>\n                <input type=\"submit\" value=\"Submit\" />\n                <button type=\"button\" onClick={this.reloadComponent}> <span>Reload</span> </button>\n              </form>\n           </div>\n           <div  className={\"centered\"}>\n              <Properties properties={this.state.properties} />\n           </div>\n         </div>\n      )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}