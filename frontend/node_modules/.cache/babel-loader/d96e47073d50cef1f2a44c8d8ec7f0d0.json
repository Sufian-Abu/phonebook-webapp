{"ast":null,"code":"import _classCallCheck from\"/Users/abusufian/Desktop/spring-rain-assignment/phonebook-webapp/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/abusufian/Desktop/spring-rain-assignment/phonebook-webapp/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/abusufian/Desktop/spring-rain-assignment/phonebook-webapp/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/abusufian/Desktop/spring-rain-assignment/phonebook-webapp/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/abusufian/Desktop/spring-rain-assignment/phonebook-webapp/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/abusufian/Desktop/spring-rain-assignment/phonebook-webapp/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Properties from'./components/properties';import'./App.css';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.state={properties:[]};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.reloadComponent=_this.reloadComponent.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){// before loading the application call property api\nthis.getData();}},{key:\"getData\",value:function getData(){var _this2=this;fetch('http://localhost:4000/properties').then(function(res){return res.json();}).then(function(data){_this2.setState({properties:data});_this2.input.value=null;}).catch(console.log);}// load the component\n},{key:\"reloadComponent\",value:function reloadComponent(){window.location.reload();}// api call for filter property by name, city, state\n},{key:\"filterProperties\",value:function filterProperties(input){var _this3=this;fetch(\"http://localhost:4000/filterItem/?filterItem=\".concat(input)).then(function(res){return res.json();}).then(function(data){_this3.setState({properties:data});}).catch(console.log);}},{key:\"handleSubmit\",value:function handleSubmit(e){this.filterProperties(this.input.value);e.preventDefault();}},{key:\"render\",value:function render(){var _this4=this;return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"centered\"},React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"label\",null,\"Search Key:\",React.createElement(\"input\",{type:\"text\",ref:function ref(input){return _this4.input=input;}})),React.createElement(\"input\",{type:\"submit\",value:\"Submit\"}),React.createElement(\"button\",{type:\"button\",onClick:this.reloadComponent},\" \",React.createElement(\"span\",null,\"Reload\"),\" \"))),React.createElement(\"div\",{className:\"centered\"},React.createElement(Properties,{properties:this.state.properties})));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/abusufian/Desktop/spring-rain-assignment/phonebook-webapp/frontend/src/App.js"],"names":["React","Component","Properties","App","props","state","properties","handleSubmit","bind","reloadComponent","getData","fetch","then","res","json","data","setState","input","value","catch","console","log","window","location","reload","e","filterProperties","preventDefault"],"mappings":"s8BAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,KAA8B,OAA9B,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAO,WAAP,C,GAEMC,CAAAA,G,6DACJ,aAAYC,KAAZ,CAAmB,qCACjB,qEAAMA,KAAN,GADiB,MAKnBC,KALmB,CAKX,CACNC,UAAU,CAAE,EADN,CALW,CAEjB,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,eAAL,CAAuB,MAAKA,eAAL,CAAqBD,IAArB,+BAAvB,CAHiB,aAIlB,C,6EAKmB,CAClB;AACA,KAAKE,OAAL,GACD,C,yCAEQ,iBACPC,KAAK,CAAC,kCAAD,CAAL,CACCC,IADD,CACM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECF,IAFD,CAEM,SAACG,IAAD,CAAU,CACd,MAAI,CAACC,QAAL,CAAc,CAAEV,UAAU,CAAES,IAAd,CAAd,EACA,MAAI,CAACE,KAAL,CAAWC,KAAX,CAAiB,IAAjB,CACD,CALD,EAMCC,KAND,CAMOC,OAAO,CAACC,GANf,EAOD,CAED;yDACiB,CACfC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAED;0DACiBP,K,CAAO,iBACtBN,KAAK,wDAAiDM,KAAjD,EAAL,CACCL,IADD,CACM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECF,IAFD,CAEM,SAACG,IAAD,CAAU,CACd,MAAI,CAACC,QAAL,CAAc,CAAEV,UAAU,CAAES,IAAd,CAAd,EACD,CAJD,EAKCI,KALD,CAKOC,OAAO,CAACC,GALf,EAMD,C,kDAEYI,C,CAAG,CACd,KAAKC,gBAAL,CAAsB,KAAKT,KAAL,CAAWC,KAAjC,EACAO,CAAC,CAACE,cAAF,GACD,C,uCAEQ,iBACL,MACG,gCACE,2BAAM,SAAS,CAAE,UAAjB,EACG,4BAAM,QAAQ,CAAE,KAAKpB,YAArB,EACE,+CAEE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,GAAG,CAAE,aAACU,KAAD,QAAW,CAAA,MAAI,CAACA,KAAL,CAAaA,KAAxB,EAAxB,EAFF,CADF,CAKE,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,EALF,CAME,8BAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,KAAKR,eAApC,MAAsD,yCAAtD,KANF,CADH,CADF,CAWE,2BAAM,SAAS,CAAE,UAAjB,EACG,oBAAC,UAAD,EAAY,UAAU,CAAE,KAAKJ,KAAL,CAAWC,UAAnC,EADH,CAXF,CADH,CAiBH,C,iBA/DeL,S,EAkElB,cAAeE,CAAAA,GAAf","sourcesContent":["import React,{Component} from 'react';\nimport Properties from './components/properties';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.reloadComponent = this.reloadComponent.bind(this);\n  }\n  state = {\n    properties: []\n  }\n\n  componentDidMount() {\n    // before loading the application call property api\n    this.getData();\n  }\n\n  getData(){\n    fetch('http://localhost:4000/properties')\n    .then(res => res.json())\n    .then((data) => {\n      this.setState({ properties: data });\n      this.input.value=null;\n    })\n    .catch(console.log)\n  }\n\n  // load the component\n  reloadComponent(){\n    window.location.reload();\n  }\n\n  // api call for filter property by name, city, state\n  filterProperties(input) {\n    fetch(`http://localhost:4000/filterItem/?filterItem=${input}`)\n    .then(res => res.json())\n    .then((data) => {\n      this.setState({ properties: data });\n    })\n    .catch(console.log)\n  }\n\n  handleSubmit(e) {\n    this.filterProperties(this.input.value);\n    e.preventDefault();\n  }\n\n  render() {\n      return (\n         <div>\n           <div  className={\"centered\"}>\n              <form onSubmit={this.handleSubmit}>\n                <label>\n                  Search Key:\n                  <input type=\"text\" ref={(input) => this.input = input} />\n                </label>\n                <input type=\"submit\" value=\"Submit\" />\n                <button type=\"button\" onClick={this.reloadComponent}> <span>Reload</span> </button>\n              </form>\n           </div>\n           <div  className={\"centered\"}>\n              <Properties properties={this.state.properties} />\n           </div>\n         </div>\n      )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}