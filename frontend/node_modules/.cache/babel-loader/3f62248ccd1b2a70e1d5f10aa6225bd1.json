{"ast":null,"code":"import _classCallCheck from\"/Users/abusufian/Desktop/spring-rain-assignment/phonebook-webapp/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/abusufian/Desktop/spring-rain-assignment/phonebook-webapp/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/abusufian/Desktop/spring-rain-assignment/phonebook-webapp/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/abusufian/Desktop/spring-rain-assignment/phonebook-webapp/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/abusufian/Desktop/spring-rain-assignment/phonebook-webapp/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/abusufian/Desktop/spring-rain-assignment/phonebook-webapp/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';var Properties=/*#__PURE__*/function(_Component){_inherits(Properties,_Component);function Properties(props){var _this;_classCallCheck(this,Properties);_this=_possibleConstructorReturn(this,_getPrototypeOf(Properties).call(this,props));_this.state={showDescription:false,images:[]};_this.fetchPropertyDetails=function(e){var propertyId=e.target.getAttribute('data-item');fetch(\"http://localhost:4000/images/?propertyId=\".concat(propertyId)).then(function(res){return res.json();}).then(function(data){var result=JSON.parse(data.image);_this.setState({images:result});}).catch(console.log);var showDescription=_this.state.showDescription;_this.setState({showDescription:!showDescription});};_this.fetchPropertyDetails=_this.fetchPropertyDetails.bind(_assertThisInitialized(_this));return _this;}_createClass(Properties,[{key:\"render\",value:function render(){var _this2=this;var showDescription=this.state.showDescription;return React.createElement(\"div\",null,!showDescription&&React.createElement(\"div\",null,React.createElement(\"table\",null,React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Id\"),React.createElement(\"th\",null,\"Name\"),React.createElement(\"th\",null,\"Address\"),React.createElement(\"th\",null,\"City\"),React.createElement(\"th\",null,\"State\"),React.createElement(\"th\",null,\"Zip Code\"),React.createElement(\"th\",null,\"County\"),React.createElement(\"th\",null,\"Phone\"),React.createElement(\"th\",null,\"Type\"),React.createElement(\"th\",null,\"Capacity\"))),React.createElement(\"tbody\",null,this.props.properties.map(function(property,index){return React.createElement(\"tr\",null,React.createElement(\"td\",null,property.id),React.createElement(\"td\",{key:index,\"data-item\":property.id,onClick:_this2.fetchPropertyDetails,style:{textDecoration:'underline',color:'blue'}},property.name),React.createElement(\"td\",null,property.address),React.createElement(\"td\",null,property.city),React.createElement(\"td\",null,property.state),React.createElement(\"td\",null,property.zip_code),React.createElement(\"td\",null,property.county),React.createElement(\"td\",null,property.phone),React.createElement(\"td\",null,property.type),React.createElement(\"td\",null,property.capacity));})))),showDescription&&React.createElement(\"div\",{className:\"row\"},this.state.images.map(function(image){return React.createElement(\"div\",{className:\"column\"},React.createElement(\"img\",{src:image}));})));}}]);return Properties;}(Component);export default Properties;","map":{"version":3,"sources":["/Users/abusufian/Desktop/spring-rain-assignment/phonebook-webapp/frontend/src/components/properties.js"],"names":["React","Component","Properties","props","state","showDescription","images","fetchPropertyDetails","e","propertyId","target","getAttribute","fetch","then","res","json","data","result","JSON","parse","image","setState","catch","console","log","bind","properties","map","property","index","id","textDecoration","color","name","address","city","zip_code","county","phone","type","capacity"],"mappings":"s8BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,GACMC,CAAAA,U,oEACJ,oBAAYC,KAAZ,CAAmB,4CACjB,4EAAMA,KAAN,GADiB,MAInBC,KAJmB,CAIX,CACNC,eAAe,CAAE,KADX,CAENC,MAAM,CAAE,EAFF,CAJW,OASnBC,oBATmB,CASI,SAACC,CAAD,CAAO,CAC5B,GAAMC,CAAAA,UAAU,CAAGD,CAAC,CAACE,MAAF,CAASC,YAAT,CAAsB,WAAtB,CAAnB,CACAC,KAAK,oDAA6CH,UAA7C,EAAL,CACCI,IADD,CACM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECF,IAFD,CAEM,SAACG,IAAD,CAAU,CACd,GAAMC,CAAAA,MAAM,CAAGC,IAAI,CAACC,KAAL,CAAWH,IAAI,CAACI,KAAhB,CAAf,CACA,MAAKC,QAAL,CAAc,CAAEf,MAAM,CAAEW,MAAV,CAAd,EACD,CALD,EAMCK,KAND,CAMOC,OAAO,CAACC,GANf,EAF4B,GASpBnB,CAAAA,eAToB,CASA,MAAKD,KATL,CASpBC,eAToB,CAU5B,MAAKgB,QAAL,CAAc,CACVhB,eAAe,CAAE,CAACA,eADR,CAAd,EAGD,CAtBkB,CAEjB,MAAKE,oBAAL,CAA4B,MAAKA,oBAAL,CAA0BkB,IAA1B,+BAA5B,CAFiB,aAGlB,C,8DAoBQ,oBACCpB,CAAAA,eADD,CACqB,KAAKD,KAD1B,CACCC,eADD,CAEP,MACK,gCACI,CAACA,eAAD,EACI,+BACI,iCACC,iCACE,8BACE,mCADF,CAEE,qCAFF,CAGE,wCAHF,CAIE,qCAJF,CAKE,sCALF,CAME,yCANF,CAOE,uCAPF,CAQE,sCARF,CASE,qCATF,CAUE,yCAVF,CADF,CADD,CAeC,iCACK,KAAKF,KAAL,CAAWuB,UAAX,CAAsBC,GAAtB,CAA0B,SAACC,QAAD,CAAWC,KAAX,QACvB,+BACI,8BAAKD,QAAQ,CAACE,EAAd,CADJ,CAEI,0BAAI,GAAG,CAAED,KAAT,CAAgB,YAAWD,QAAQ,CAACE,EAApC,CAAwC,OAAO,CAAE,MAAI,CAACvB,oBAAtD,CACI,KAAK,CAAE,CAAEwB,cAAc,CAAE,WAAlB,CAA+BC,KAAK,CAAE,MAAtC,CADX,EAGKJ,QAAQ,CAACK,IAHd,CAFJ,CAOI,8BAAKL,QAAQ,CAACM,OAAd,CAPJ,CAQI,8BAAKN,QAAQ,CAACO,IAAd,CARJ,CASI,8BAAKP,QAAQ,CAACxB,KAAd,CATJ,CAUI,8BAAKwB,QAAQ,CAACQ,QAAd,CAVJ,CAWI,8BAAKR,QAAQ,CAACS,MAAd,CAXJ,CAYI,8BAAKT,QAAQ,CAACU,KAAd,CAZJ,CAaI,8BAAKV,QAAQ,CAACW,IAAd,CAbJ,CAcI,8BAAKX,QAAQ,CAACY,QAAd,CAdJ,CADuB,EAA1B,CADL,CAfD,CADJ,CAFR,CA0CInC,eAAe,EACZ,2BAAK,SAAS,CAAE,KAAhB,EACG,KAAKD,KAAL,CAAWE,MAAX,CAAkBqB,GAAlB,CAAsB,SAAAP,KAAK,QACxB,4BAAK,SAAS,CAAE,QAAhB,EACE,2BAAK,GAAG,CAAEA,KAAV,EADF,CADwB,EAA3B,CADH,CA3CP,CADL,CAqDD,C,wBA/EsBnB,S,EAiFzB,cAAeC,CAAAA,UAAf","sourcesContent":["import React, { Component } from 'react';\nclass Properties extends Component {\n  constructor(props) {\n    super(props);\n    this.fetchPropertyDetails = this.fetchPropertyDetails.bind(this);\n  }\n  state = {\n    showDescription: false,\n    images: []\n  };\n\n  fetchPropertyDetails = (e) => {\n    const propertyId = e.target.getAttribute('data-item');\n    fetch(`http://localhost:4000/images/?propertyId=${propertyId}`)\n    .then(res => res.json())\n    .then((data) => {\n      const result = JSON.parse(data.image);\n      this.setState({ images: result });\n    })\n    .catch(console.log)\n    const { showDescription } = this.state;\n    this.setState({\n        showDescription: !showDescription,\n    });\n  }\n  render() {\n    const { showDescription } = this.state;\n    return (\n         <div>\n            {!showDescription && (\n                 <div>\n                     <table>\n                      <thead>\n                        <tr>\n                          <th>Id</th>\n                          <th>Name</th>\n                          <th>Address</th>\n                          <th>City</th>\n                          <th>State</th>\n                          <th>Zip Code</th>\n                          <th>County</th>\n                          <th>Phone</th>\n                          <th>Type</th>\n                          <th>Capacity</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                          {this.props.properties.map((property, index) => (\n                              <tr>\n                                  <td>{property.id}</td>\n                                  <td key={index} data-item={property.id} onClick={this.fetchPropertyDetails}\n                                      style={{ textDecoration: 'underline', color: 'blue' }}\n                                  >\n                                      {property.name}\n                                  </td>\n                                  <td>{property.address}</td>\n                                  <td>{property.city}</td>\n                                  <td>{property.state}</td>\n                                  <td>{property.zip_code}</td>\n                                  <td>{property.county}</td>\n                                  <td>{property.phone}</td>\n                                  <td>{property.type}</td>\n                                  <td>{property.capacity}</td>\n\n                              </tr>\n                            ))}\n                       </tbody>\n                     </table>\n                 </div>\n            )}\n            {showDescription && (\n                <div className={\"row\"}>\n                  {this.state.images.map(image =>\n                      <div className={\"column\"}>\n                        <img src={image} />\n                      </div>)}\n                </div>\n            )}\n         </div>\n    );\n  }\n}\nexport default Properties;\n"]},"metadata":{},"sourceType":"module"}